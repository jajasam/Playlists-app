{"ast":null,"code":"var _jsxFileName = \"/Users/janasamson/Desktop/Music App/app/client/src/useAuth.js\",\n  _s2 = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction useAuth(code) {\n  _s2();\n  var _s = $RefreshSig$();\n  const [accessToken, setAccessToken] = useState(\"\");\n  const [refreshToken, setRefreshToken] = useState(\"\");\n  const [expiresIn, setExpiresIn] = useState(\"\");\n  useEffect(() => {\n    axios.post(\"http://localhost:3001/login\", {\n      code\n    }).then(res => {\n      console.log(res.data);\n      setAccessToken(res.data.accessToken);\n      setRefreshToken(res.data.refreshToken);\n      setExpiresIn(res.data.expiresIn);\n    }).catch(err => {\n      window.location = '';\n    });\n  }, []);\n  _s(useEffect(_s(() => {\n    _s();\n    if (!refreshToken || !expiresIn) return;\n    const interval = useTimeout(() => {\n      axios.post(\"http://localhost:3001/refresh\", {\n        refreshToken\n      }).then(res => {\n        setAccessToken(res.data.accessToken);\n        setExpiresIn(res.data.expiresIn);\n      }).catch(err => {\n        window.location = '';\n      });\n    }, (expiresIn - 60) * 1000);\n  }, \"leHbsFMcijSD7KBjuJY1X2eEguQ=\", true), [accessToken, expiresIn]), \"leHbsFMcijSD7KBjuJY1X2eEguQ=\", true);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"test\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n}\n_s2(useAuth, \"sGrPuqTLUbUgaxFeTP1Ul6/8aFE=\");\nexport default useAuth;","map":{"version":3,"names":["useState","useEffect","axios","useAuth","code","accessToken","setAccessToken","refreshToken","setRefreshToken","expiresIn","setExpiresIn","post","then","res","console","log","data","catch","err","window","location","interval","useTimeout"],"sources":["/Users/janasamson/Desktop/Music App/app/client/src/useAuth.js"],"sourcesContent":["import { useState, useEffect } from \"react\"\nimport axios from 'axios'\n\nfunction useAuth(code) {\n    const [accessToken, setAccessToken] = useState(\"\")\n    const [refreshToken, setRefreshToken] = useState(\"\")\n    const [expiresIn, setExpiresIn] = useState(\"\")\n\n    useEffect(() => {\n        axios.post(\"http://localhost:3001/login\", {\n            code,\n        }).then(res => {\n            console.log(res.data)\n            setAccessToken(res.data.accessToken)\n            setRefreshToken(res.data.refreshToken)\n            setExpiresIn(res.data.expiresIn)\n        }).catch(err => {\n            window.location = ''\n        })\n    }, [])\n\n    useEffect(() => {\n        if (!refreshToken || !expiresIn) return;\n\n        const interval = \n        useTimeout(() => {\n            axios.post(\"http://localhost:3001/refresh\", {\n            refreshToken\n            })\n            .then(res => {\n                setAccessToken(res.data.accessToken)\n                setExpiresIn(res.data.expiresIn)\n            }).catch(err => {\n                window.location = ''\n            })\n        }, (expiresIn - 60) * 1000)\n    }, [accessToken, expiresIn])\n\n    return (\n        <div>\n            test\n        </div>\n    )\n}\n\nexport default useAuth\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAAA;AAEzB,SAASC,OAAO,CAACC,IAAI,EAAE;EAAA;EAAA;EACnB,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACO,YAAY,EAAEC,eAAe,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACS,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAE9CC,SAAS,CAAC,MAAM;IACZC,KAAK,CAACS,IAAI,CAAC,6BAA6B,EAAE;MACtCP;IACJ,CAAC,CAAC,CAACQ,IAAI,CAACC,GAAG,IAAI;MACXC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,IAAI,CAAC;MACrBV,cAAc,CAACO,GAAG,CAACG,IAAI,CAACX,WAAW,CAAC;MACpCG,eAAe,CAACK,GAAG,CAACG,IAAI,CAACT,YAAY,CAAC;MACtCG,YAAY,CAACG,GAAG,CAACG,IAAI,CAACP,SAAS,CAAC;IACpC,CAAC,CAAC,CAACQ,KAAK,CAACC,GAAG,IAAI;MACZC,MAAM,CAACC,QAAQ,GAAG,EAAE;IACxB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,GAAAnB,SAAS,IAAC,MAAM;IAAA;IACZ,IAAI,CAACM,YAAY,IAAI,CAACE,SAAS,EAAE;IAEjC,MAAMY,QAAQ,GACdC,UAAU,CAAC,MAAM;MACbpB,KAAK,CAACS,IAAI,CAAC,+BAA+B,EAAE;QAC5CJ;MACA,CAAC,CAAC,CACDK,IAAI,CAACC,GAAG,IAAI;QACTP,cAAc,CAACO,GAAG,CAACG,IAAI,CAACX,WAAW,CAAC;QACpCK,YAAY,CAACG,GAAG,CAACG,IAAI,CAACP,SAAS,CAAC;MACpC,CAAC,CAAC,CAACQ,KAAK,CAACC,GAAG,IAAI;QACZC,MAAM,CAACC,QAAQ,GAAG,EAAE;MACxB,CAAC,CAAC;IACN,CAAC,EAAE,CAACX,SAAS,GAAG,EAAE,IAAI,IAAI,CAAC;EAC/B,CAAC,yCAAE,CAACJ,WAAW,EAAEI,SAAS,CAAC,CAAC;EAE5B,oBACI;IAAA;EAAA;IAAA;IAAA;IAAA;EAAA,QAEM;AAEd;AAAC,IAxCQN,OAAO;AA0ChB,eAAeA,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}